#!/bin/sh
: ${MYSQL_HOME?"Need to set MYSQL_HOME environmental variable."}

# Clear out old results
rm $MYSQL_HOME/mysql-test/suite/cloud-test/funcs/r/*

# Record baseline results with InnoDB
cd $MYSQL_HOME/mysql-test
./mtr --suite=cloud-test/funcs             \
  --mysqld=--default-storage-engine=InnoDB \
  --mysqld=--character-set-server=utf8     \
  --mysqld=--collation-server=utf8_bin     \
  --record                                 \
ai_init_alter_table \
ai_init_create_table \
ai_init_insert \
ai_init_insert_id \
ai_overflow_error \
ai_reset_by_truncate \
ai_sql_auto_is_null \
an_calendar \
an_number \
an_string \
comment_column \
comment_column2 \
comment_index \
comment_table \
crash_manycolumns_number \
crash_manycolumns_string \
crash_manyindexes_number \
crash_manyindexes_string \
crash_manytables_number \
crash_manytables_string \
date_function \
datetime_function \
db_alter_character_set \
db_alter_character_set_collate \
db_alter_collate_ascii \
db_alter_collate_utf8 \
db_create_character_set \
db_create_character_set_collate \
db_create_drop \
db_create_error \
db_create_error_reserved \
db_create_if_not_exists \
db_drop_error \
db_use_error \
de_autoinc \
de_calendar_range \
de_ignore \
de_limit \
de_multi_db_table \
de_multi_db_table_using \
de_multi_table \
de_multi_table_using \
de_number_range \
de_quick \
de_string_range \
de_truncate \
de_truncate_autoinc \
fu_aggregate_avg_number \
fu_aggregate_count_number \
fu_aggregate_max_number \
fu_aggregate_max_subquery \
fu_aggregate_min_number \
fu_aggregate_sum_number \
general_no_data \
general_not_null \
general_null \
in_calendar_2_unique_constraints_duplicate_update \
in_calendar_pk_constraint_duplicate_update \
in_calendar_pk_constraint_error \
in_calendar_pk_constraint_ignore \
in_calendar_unique_constraint_duplicate_update \
in_calendar_unique_constraint_error \
in_calendar_unique_constraint_ignore \
in_enum_null \
in_enum_null_boundary_error \
in_enum_null_large_error \
in_insert_select \
in_insert_select_autoinc \
in_insert_select_unique_violation \
in_lob_boundary_error \
in_multicolumn_calendar_pk_constraint_duplicate_update \
in_multicolumn_calendar_pk_constraint_error \
in_multicolumn_calendar_pk_constraint_ignore \
in_multicolumn_calendar_unique_constraint_duplicate_update \
in_multicolumn_calendar_unique_constraint_error \
in_multicolumn_calendar_unique_constraint_ignore \
in_multicolumn_number_pk_constraint_duplicate_update \
in_multicolumn_number_pk_constraint_error \
in_multicolumn_number_pk_constraint_ignore \
in_multicolumn_number_unique_constraint_duplicate_update \
in_multicolumn_number_unique_constraint_error \
in_multicolumn_number_unique_constraint_ignore \
in_multicolumn_string_pk_constraint_duplicate_update \
in_multicolumn_string_pk_constraint_error \
in_multicolumn_string_pk_constraint_ignore \
in_multicolumn_string_unique_constraint_duplicate_update \
in_multicolumn_string_unique_constraint_error \
in_multicolumn_string_unique_constraint_ignore \
in_number_2_unique_constraints_duplicate_update \
in_number_boundary_error \
in_number_decimal_boundary_error \
in_number_length \
in_number_null \
in_number_pk_constraint_duplicate_update \
in_number_pk_constraint_error \
in_number_pk_constraint_ignore \
in_number_unique_constraint_duplicate_update \
in_number_unique_constraint_error \
in_number_unique_constraint_ignore \
in_set_null \
in_set_null_boundary_error \
in_set_null_large \
in_string_2_unique_constraints_duplicate_update \
in_string_boundary_error \
in_string_not_null \
in_string_null \
in_string_pk_constraint_duplicate_update \
in_string_pk_constraint_error \
in_string_pk_constraint_ignore \
in_string_set_enum_fail \
in_string_unique_constraint_duplicate_update \
in_string_unique_constraint_error \
in_string_unique_constraint_ignore \
ix_drop \
ix_drop_error \
ix_index_decimals \
ix_index_lob \
ix_index_non_string \
ix_index_string \
ix_index_string_length \
ix_unique_decimals \
ix_unique_lob \
ix_unique_non_string \
ix_unique_string \
ix_unique_string_length \
ix_using_order \
jp_comment_column \
jp_comment_index \
jp_comment_older_compatibility1 \
jp_comment_table \
ld_all_number_string_calendar_types \
ld_bit \
ld_enum_set \
ld_less_columns \
ld_more_columns_truncated \
ld_null \
ld_quote \
ld_simple \
ld_starting \
ld_unique_error1 \
ld_unique_error1_local \
ld_unique_error2 \
ld_unique_error2_local \
ld_unique_error3 \
ld_unique_error3_local \
ps_number_length \
ps_number_null \
ps_string_not_null \
ps_string_null \
re_number_range \
re_number_range_set \
re_number_select \
re_string_range \
re_string_range_set \
rpl000010 \
rpl000011 \
rpl000013 \
rpl000017 \
rpl_000015 \
rpl_LD_INFILE \
rpl_REDIRECT \
rpl_alter \
rpl_alter_db \
rpl_bit \
rpl_bit_npk \
rpl_change_master \
rpl_create_database \
rpl_do_grant \
rpl_drop \
rpl_drop_db \
rpl_dual_pos_advance \
rpl_empty_master_crash \
rpl_err_ignoredtable \
rpl_flushlog_loop \
rpl_free_items \
rpl_get_lock \
rpl_ignore_grant \
rpl_ignore_revoke \
rpl_ignore_table_update \
rpl_init_slave \
rpl_insert \
rpl_insert_select \
rpl_loaddata2 \
rpl_loaddata_m \
rpl_loaddata_s \
rpl_loaddatalocal \
rpl_loadfile \
rpl_log_pos \
rpl_many_optimize \
rpl_master_pos_wait \
rpl_misc_functions \
rpl_multi_delete \
rpl_multi_delete2 \
rpl_multi_update4 \
rpl_ps \
rpl_rbr_to_sbr \
rpl_relayspace \
rpl_replicate_ignore_db \
rpl_row_NOW \
rpl_row_USER \
rpl_row_drop \
rpl_row_func001 \
rpl_row_inexist_tbl \
rpl_row_max_relay_size \
rpl_row_reset_slave \
rpl_row_sp001 \
rpl_row_sp005 \
rpl_row_sp008 \
rpl_row_sp009 \
rpl_row_sp010 \
rpl_row_sp011 \
rpl_row_sp012 \
rpl_row_stop_middle \
rpl_row_trig001 \
rpl_row_trig002 \
rpl_row_trig003 \
rpl_row_until \
rpl_row_view01 \
rpl_server_id1 \
rpl_server_id2 \
rpl_session_var \
rpl_sf \
rpl_skip_error \
rpl_slave_status \
rpl_sp \
rpl_sp004 \
rpl_sp_effects \
rpl_start_stop_slave \
rpl_stm_max_relay_size \
rpl_stm_mystery22 \
rpl_stm_no_op \
rpl_stm_reset_slave \
rpl_switch_stm_row_mixed \
rpl_temp_table \
rpl_temporary \
rpl_trigger \
rpl_trunc_temp \
rpl_user_variables \
rpl_variables \
rpl_view \
se_join_cross \
se_join_default \
se_join_inner \
se_join_left \
se_join_left_outer \
se_join_natural_left \
se_join_natural_left_outer \
se_join_natural_right \
se_join_natural_right_outer \
se_join_right \
se_join_right_outer \
se_join_straight \
se_rowid \
se_string_distinct \
se_string_from \
se_string_groupby \
se_string_having \
se_string_limit \
se_string_orderby \
se_string_union \
se_string_where \
se_string_where_and \
se_string_where_or \
sf_alter \
sf_cursor \
sf_simple1 \
sp_alter \
sp_cursor \
sp_simple1 \
sq_all \
sq_any \
sq_corr \
sq_error \
sq_exists \
sq_from \
sq_in \
sq_row \
sq_scalar \
sq_some \
ta_2part_column_to_pk \
ta_2part_diff_string_to_pk \
ta_2part_diff_to_pk \
ta_2part_string_to_pk \
ta_3part_column_to_pk \
ta_3part_string_to_pk \
ta_add_column \
ta_add_column2 \
ta_add_column_first \
ta_add_column_first2 \
ta_add_column_middle \
ta_add_column_middle2 \
ta_add_string \
ta_add_string2 \
ta_add_string_first \
ta_add_string_first2 \
ta_add_string_middle \
ta_add_string_middle2 \
ta_add_string_unique_index \
ta_add_unique_index \
ta_column_from_unsigned \
ta_column_from_zerofill \
ta_column_to_index \
ta_column_to_not_null \
ta_column_to_null \
ta_column_to_pk \
ta_column_to_unsigned \
ta_column_to_zerofill \
ta_drop_column \
ta_drop_index \
ta_drop_pk_autoincrement \
ta_drop_pk_number \
ta_drop_pk_string \
ta_drop_string_index \
ta_orderby \
ta_rename \
ta_set_drop_default \
ta_string_drop_column \
ta_string_to_index \
ta_string_to_not_null \
ta_string_to_null \
ta_string_to_pk \
tc_column_autoincrement \
tc_column_comment \
tc_column_comment_string \
tc_column_default_decimal \
tc_column_default_number \
tc_column_default_string \
tc_column_enum \
tc_column_enum_long \
tc_column_key \
tc_column_key_length \
tc_column_length \
tc_column_length_decimals \
tc_column_length_zero \
tc_column_not_null \
tc_column_null \
tc_column_primary_key_number \
tc_column_primary_key_string \
tc_column_serial \
tc_column_set \
tc_column_set_long \
tc_column_unique_key \
tc_column_unique_key_string \
tc_column_unsigned \
tc_column_zerofill \
tc_drop_table \
tc_multicolumn_different \
tc_multicolumn_same \
tc_multicolumn_same_string \
tc_partition_analyze \
tc_partition_change_from_range_to_hash_key \
tc_partition_check \
tc_partition_hash \
tc_partition_hash_date_function \
tc_partition_key \
tc_partition_linear_key \
tc_partition_list_directory \
tc_partition_list_error \
tc_partition_optimize \
tc_partition_rebuild \
tc_partition_remove \
tc_partition_reorg_divide \
tc_partition_reorg_hash_key \
tc_partition_reorg_merge \
tc_partition_repair \
tc_partition_sub1 \
tc_partition_sub2 \
tc_partition_value \
tc_partition_value_error \
tc_partition_value_specific \
tc_rename \
tc_rename_across_database \
tc_rename_error \
tc_structure_comment \
tc_structure_create_like \
tc_structure_create_like_string \
tc_structure_create_select \
tc_structure_create_select_string \
tc_structure_string_comment \
tc_temporary_column \
tc_temporary_column_length \
time_function \
tr_all_type_triggers \
tr_delete \
tr_delete_new_error \
tr_insert \
tr_insert_after_error \
tr_insert_old_error \
tr_update \
tr_update_after_error \
up_calendar_range \
up_ignore \
up_limit \
up_multi_db_table \
up_multi_table \
up_nullcheck \
up_number_range \
up_string_range \

# Move test results that are manually built
#cp $MYSQL_HOME/mysql-test/suite/cloud-test/t/manual_results/* \
#   $MYSQL_HOME/mysql-test/suite/cloud-test/r/
