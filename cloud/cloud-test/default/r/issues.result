DROP TABLE IF EXISTS t1;
Warnings:
Note	1051	Unknown table 't1'
CREATE TABLE t1 (c INT);
INSERT INTO t1 VALUES (0), (1), (2), (3);
SELECT * FROM t1 ORDER BY c;
c
0
1
2
3
DELETE FROM t1 WHERE c < 1 ORDER BY c;
SELECT * FROM t1;
c
1
2
3
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (c INT, INDEX(c));
INSERT INTO t1 VALUES (0), (1), (2), (3);
DELETE FROM t1 WHERE c < 2;
SELECT * FROM t1;
c
2
3
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c INT UNSIGNED, INDEX(c));
INSERT INTO t1 VALUES (2147483647);
INSERT INTO t1 VALUES (2147483648);
SELECT * FROM t1 WHERE c = 2147483647;
c
2147483647
SELECT * FROM t1 WHERE c = 2147483648;
c
2147483648
SELECT * FROM t1;
c
2147483647
2147483648
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (c TINYINT, INDEX(c));
INSERT INTO t1 VALUES (1), (2), (64);
SELECT * FROM t1;
c
1
2
64
SELECT * FROM t1 WHERE c > 0;
c
1
2
64
SELECT * FROM t1 WHERE c = 1;
c
1
SELECT * FROM t1 WHERE c <= 64;
c
1
2
64
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (c1 INT);
INSERT INTO t1 VALUES (1), (2), (3);
SELECT * FROM t1;
c1
1
2
3
DELETE FROM t1;
SELECT * FROM t1;
c1
DELETE FROM t1;
SELECT * FROM t1;
c1
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (c1 INT);
REPLACE t1 VALUES (42);
SELECT * FROM t1;
c1
42
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 DECIMAL(5,4));
INSERT INTO t1 (c1) VALUES(9.42);
SELECT * FROM t1;
c1
9.4200
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 INT, c2 INT, unique(c1, c2));
INSERT INTO t1 VALUES (1, 1), (1, 1);
ERROR 23000: Duplicate entry '1-1' for key 'c1'
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 TIME, INDEX(c1));
INSERT INTO t1 VALUES ('-3:15:00');
SELECT * FROM t1;
c1
-03:15:00
SELECT c1 FROM t1 WHERE c1='-3:15:00';
c1
-03:15:00
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (c1 INT, c2 INT, UNIQUE INDEX(c1), UNIQUE INDEX(c2));
INSERT INTO t1 VALUES (1, 2);
INSERT INTO t1 VALUES (1, 3);
ERROR 23000: Duplicate entry '1' for key 'c1'
SELECT * FROM t1;
c1	c2
1	2
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 LONGTEXT);
INSERT INTO t1 VALUES ("foobar!");
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (c1 INT, UNIQUE(c1));
INSERT INTO t1 VALUES (1);
DELETE t1 FROM t1 WHERE t1.c1=1;
SELECT * FROM t1;
c1
DELETE FROM t1 WHERE t1.c1=1;
SELECT * FROM t1;
c1
DROP TABLE IF EXISTS t1, t2;
Warnings:
Note	1051	Unknown table 't2'
CREATE TABLE t1 (c1 INT, UNIQUE(c1));
CREATE TABLE t2 (c1 INT, UNIQUE(c1));
INSERT INTO t1 VALUES (1);
INSERT INTO t2 VALUES (2);
DELETE t1,t2 FROM t1,t2 WHERE t1.c1=1 AND t2.c1=2;
SELECT COUNT(*) FROM t1;
COUNT(*)
0
SELECT COUNT(*) FROM t2;
COUNT(*)
0
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 INT, c2 INT, UNIQUE INDEX(c1), UNIQUE INDEX(c2));
INSERT INTO t1 VALUES (1,1),(2,2),(3,3);
SELECT * FROM t1 WHERE c1=4 OR c2=5;
c1	c2
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 INT PRIMARY KEY);
INSERT INTO t1 (c1) VALUES(1);
INSERT INTO t1 (c1) VALUES(1) ON DUPLICATE KEY UPDATE c1=2;
SELECT * FROM t1;
c1
2
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 INT, c2 INT, UNIQUE(c1));
INSERT INTO t1 (c1,c2) VALUES(10,10);
INSERT INTO t1 (c1,c2) VALUES(10,11) ON DUPLICATE KEY UPDATE c2=12;
SELECT * FROM t1;
c1	c2
10	12
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 INT);
TRUNCATE t1 ;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (c1 INT);
CREATE TRIGGER tr1 BEFORE INSERT ON t1
FOR EACH ROW SET NEW.c1 = 99;
INSERT INTO t1 VALUES(1);
DROP TRIGGER tr1;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (c1 INT);
CREATE FUNCTION sf1() RETURNS INT
BEGIN
INSERT INTO t1 VALUES (1), (2), (3);
RETURN 0;
END//
SELECT sf1();
sf1()
0
DROP FUNCTION sf1;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 INT, UNIQUE INDEX(c1));
INSERT INTO t1 VALUES (1), (2);
UPDATE t1 SET c1=2 WHERE c1=1;
ERROR 23000: Duplicate entry '2' for key 'c1'
DROP TABLE IF EXISTS t1, t2;
